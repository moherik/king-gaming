import{b as r}from"./entry.dZgwb6_u.js";async function m(t,n,e){const{callbackUrl:o=window.location.href,redirect:s=!0}=n??{},a=t==="credentials",l=a||t==="email",w=`${`${r??""}/auth/${a?"callback":"signin"}/${t}`}?${new URLSearchParams(e)}`,i=await fetch(w,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...n,callbackUrl:o})}),c=await i.clone().json();if(s||!l){window.location.href=c.url??o,c.url.includes("#")&&window.location.reload();return}return i}async function b(t){const{callbackUrl:n=window.location.href}={},a=(await(await fetch(`${r??""}/auth/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({callbackUrl:n})})).json()).url??n;window.location.href=a,a.includes("#")&&window.location.reload()}export{b as a,m as s};
